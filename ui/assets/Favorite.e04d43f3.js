import{Q as Et}from"./QPage.48361e4f.js";import{c as yt,_ as Wt}from"./_commonjsHelpers.dd4c501b.js";import{r as mt,o as Pt,w as _t,Z as wt,aa as At,_ as Rt,$ as zt,f as Ot}from"./index.78b68d71.js";var gt={exports:{}};/*!
 * wordcloud2.js
 * http://timdream.org/wordcloud2.js/
 *
 * Copyright 2011 - 2019 Tim Guan-tin Chien and contributors.
 * Released under the MIT license
 */(function(B){window.setImmediate||(window.setImmediate=function(){return window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||function(){if(!window.postMessage||!window.addEventListener)return null;var g=[void 0],_="zero-timeout-message",H=function(x){var F=g.length;return g.push(x),window.postMessage(_+F.toString(36),"*"),F};return window.addEventListener("message",function(x){if(!(typeof x.data!="string"||x.data.substr(0,_.length)!==_)){x.stopImmediatePropagation();var F=parseInt(x.data.substr(_.length),36);!g[F]||(g[F](),g[F]=void 0)}},!0),window.clearImmediate=function(x){!g[x]||(g[x]=void 0)},H}()||function(g){window.setTimeout(g,0)}}()),window.clearImmediate||(window.clearImmediate=function(){return window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function(g){window.clearTimeout(g)}}()),function(z){var P=function(){var o=document.createElement("canvas");if(!o||!o.getContext)return!1;var C=o.getContext("2d");return!(!C||!C.getImageData||!C.fillText||!Array.prototype.some||!Array.prototype.push)}(),g=function(){if(!!P){for(var o=document.createElement("canvas").getContext("2d"),C=20,y,e;C;){if(o.font=C.toString(10)+"px sans-serif",o.measureText("\uFF37").width===y&&o.measureText("m").width===e)return C+1;y=o.measureText("\uFF37").width,e=o.measureText("m").width,C--}return 0}}(),_=function(F){if(Array.isArray(F)){var o=F.slice();return o.splice(0,2),o}else return[]},H=function(o){for(var C,y,e=o.length;e;)C=Math.floor(Math.random()*e),y=o[--e],o[e]=o[C],o[C]=y;return o},b={},x=function(o,C){if(!P)return;var y=Math.floor(Math.random()*Date.now());Array.isArray(o)||(o=[o]),o.forEach(function(l,t){if(typeof l=="string"){if(o[t]=document.getElementById(l),!o[t])throw new Error("The element id specified is not found.")}else if(!l.tagName&&!l.appendChild)throw new Error("You must pass valid HTML elements, or ID of the element.")});var e={list:[],fontFamily:'"Trebuchet MS", "Heiti TC", "\u5FAE\u8EDF\u6B63\u9ED1\u9AD4", "Arial Unicode MS", "Droid Fallback Sans", sans-serif',fontWeight:"normal",color:"random-dark",minSize:0,weightFactor:1,clearCanvas:!0,backgroundColor:"#fff",gridSize:8,drawOutOfBound:!1,shrinkToFit:!1,origin:null,drawMask:!1,maskColor:"rgba(255,0,0,0.3)",maskGapWidth:.3,wait:0,abortThreshold:0,abort:function(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,rotationSteps:0,shuffle:!0,rotateRatio:.1,shape:"circle",ellipticity:.65,classes:null,hover:null,click:null};if(C)for(var Q in C)Q in e&&(e[Q]=C[Q]);if(typeof e.weightFactor!="function"){var pt=e.weightFactor;e.weightFactor=function(t){return t*pt}}if(typeof e.shape!="function")switch(e.shape){case"circle":default:e.shape="circle";break;case"cardioid":e.shape=function(t){return 1-Math.sin(t)};break;case"diamond":e.shape=function(t){var r=t%(2*Math.PI/4);return 1/(Math.cos(r)+Math.sin(r))};break;case"square":e.shape=function(t){return Math.min(1/Math.abs(Math.cos(t)),1/Math.abs(Math.sin(t)))};break;case"triangle-forward":e.shape=function(t){var r=t%(2*Math.PI/3);return 1/(Math.cos(r)+Math.sqrt(3)*Math.sin(r))};break;case"triangle":case"triangle-upright":e.shape=function(t){var r=(t+Math.PI*3/2)%(2*Math.PI/3);return 1/(Math.cos(r)+Math.sqrt(3)*Math.sin(r))};break;case"pentagon":e.shape=function(t){var r=(t+.955)%(2*Math.PI/5);return 1/(Math.cos(r)+.726543*Math.sin(r))};break;case"star":e.shape=function(t){var r=(t+.955)%(2*Math.PI/10);return(t+.955)%(2*Math.PI/5)-2*Math.PI/10>=0?1/(Math.cos(2*Math.PI/10-r)+3.07768*Math.sin(2*Math.PI/10-r)):1/(Math.cos(r)+3.07768*Math.sin(r))};break}e.gridSize=Math.max(Math.floor(e.gridSize),4);var n=e.gridSize,st=n-e.maskGapWidth,V=Math.abs(e.maxRotation-e.minRotation),J=Math.abs(Math.floor(e.rotationSteps)),U=Math.min(e.maxRotation,e.minRotation),A,k,E,Y,Z,lt,q;function ft(l,t){return"hsl("+(Math.random()*360).toFixed()+","+(Math.random()*30+70).toFixed()+"%,"+(Math.random()*(t-l)+l).toFixed()+"%)"}switch(e.color){case"random-dark":q=function(){return ft(10,50)};break;case"random-light":q=function(){return ft(50,90)};break;default:typeof e.color=="function"&&(q=e.color);break}var D;typeof e.fontWeight=="function"&&(D=e.fontWeight);var j=null;typeof e.classes=="function"&&(j=e.classes);var K=!1,tt=[],et,dt=function(t){var r=t.currentTarget,a=r.getBoundingClientRect(),s,i;t.touches?(s=t.touches[0].clientX,i=t.touches[0].clientY):(s=t.clientX,i=t.clientY);var f=s-a.left,c=i-a.top,v=Math.floor(f*(r.width/a.width||1)/n),d=Math.floor(c*(r.height/a.height||1)/n);return tt[v][d]},ct=function(t){var r=dt(t);if(et!==r){if(et=r,!r){e.hover(void 0,void 0,t);return}e.hover(r.item,r.dimension,t)}},ut=function(t){var r=dt(t);!r||(e.click(r.item,r.dimension,t),t.preventDefault())},rt=[],Mt=function(t){if(rt[t])return rt[t];var r=t*8,a=r,s=[];for(t===0&&s.push([Y[0],Y[1],0]);a--;){var i=1;e.shape!=="circle"&&(i=e.shape(a/r*2*Math.PI)),s.push([Y[0]+t*i*Math.cos(-a/r*2*Math.PI),Y[1]+t*i*Math.sin(-a/r*2*Math.PI)*e.ellipticity,a/r*2*Math.PI])}return rt[t]=s,s},at=function(){return e.abortThreshold>0&&new Date().getTime()-lt>e.abortThreshold},Tt=function(){return e.rotateRatio===0||Math.random()>e.rotateRatio?0:V===0?U:J>0?U+Math.floor(Math.random()*J)*V/(J-1):U+Math.random()*V},xt=function(t,r,a,s){var i=e.weightFactor(r);if(i<=e.minSize)return!1;var f=1;i<g&&(f=function(){for(var ot=2;ot*i<g;)ot+=2;return ot}());var c;D?c=D(t,r,i,s):c=e.fontWeight;var v=document.createElement("canvas"),d=v.getContext("2d",{willReadFrequently:!0});d.font=c+" "+(i*f).toString(10)+"px "+e.fontFamily;var I=d.measureText(t).width/f,u=Math.max(i*f,d.measureText("m").width,d.measureText("\uFF37").width)/f,w=I+u*2,p=u*3,M=Math.ceil(w/n),W=Math.ceil(p/n);w=M*n,p=W*n;var h=-I/2,m=-u*.4,T=Math.ceil((w*Math.abs(Math.sin(a))+p*Math.abs(Math.cos(a)))/n),S=Math.ceil((w*Math.abs(Math.cos(a))+p*Math.abs(Math.sin(a)))/n),O=S*n,X=T*n;v.setAttribute("width",O),v.setAttribute("height",X),d.scale(1/f,1/f),d.translate(O*f/2,X*f/2),d.rotate(-a),d.font=c+" "+(i*f).toString(10)+"px "+e.fontFamily,d.fillStyle="#000",d.textBaseline="middle",d.fillText(t,h*f,(m+i*.5)*f);var N=d.getImageData(0,0,O,X).data;if(at())return!1;for(var ht=[],G=S,L,it,nt,R=[T/2,S/2,T/2,S/2];G--;)for(L=T;L--;){nt=n;t:for(;nt--;)for(it=n;it--;)if(N[((L*n+nt)*O+(G*n+it))*4+3]){ht.push([G,L]),G<R[3]&&(R[3]=G),G>R[1]&&(R[1]=G),L<R[0]&&(R[0]=L),L>R[2]&&(R[2]=L);break t}}return{mu:f,occupied:ht,bounds:R,gw:S,gh:T,fillTextOffsetX:h,fillTextOffsetY:m,fillTextWidth:I,fillTextHeight:u,fontSize:i}},Ct=function(t,r,a,s,i){for(var f=i.length;f--;){var c=t+i[f][0],v=r+i[f][1];if(c>=k||v>=E||c<0||v<0){if(!e.drawOutOfBound)return!1;continue}if(!A[c][v])return!1}return!0},kt=function(t,r,a,s,i,f,c,v,d,I){var u=a.fontSize,w;q?w=q(s,i,u,f,c,I):w=e.color;var p;D?p=D(s,i,u,I):p=e.fontWeight;var M;j?M=j(s,i,u,I):M=e.classes,o.forEach(function(W){if(W.getContext){var h=W.getContext("2d"),m=a.mu;h.save(),h.scale(1/m,1/m),h.font=p+" "+(u*m).toString(10)+"px "+e.fontFamily,h.fillStyle=w,h.translate((t+a.gw/2)*n*m,(r+a.gh/2)*n*m),v!==0&&h.rotate(-v),h.textBaseline="middle",h.fillText(s,a.fillTextOffsetX*m,(a.fillTextOffsetY+u*.5)*m),h.restore()}else{var T=document.createElement("span"),S="";S="rotate("+-v/Math.PI*180+"deg) ",a.mu!==1&&(S+="translateX(-"+a.fillTextWidth/4+"px) scale("+1/a.mu+")");var O={position:"absolute",display:"block",font:p+" "+u*a.mu+"px "+e.fontFamily,left:(t+a.gw/2)*n+a.fillTextOffsetX+"px",top:(r+a.gh/2)*n+a.fillTextOffsetY+"px",width:a.fillTextWidth+"px",height:a.fillTextHeight+"px",lineHeight:u+"px",whiteSpace:"nowrap",transform:S,webkitTransform:S,msTransform:S,transformOrigin:"50% 40%",webkitTransformOrigin:"50% 40%",msTransformOrigin:"50% 40%"};w&&(O.color=w),T.textContent=s;for(var X in O)T.style[X]=O[X];if(d)for(var N in d)T.setAttribute(N,d[N]);M&&(T.className+=M),W.appendChild(T)}})},It=function(t,r,a,s,i){if(!(t>=k||r>=E||t<0||r<0)){if(A[t][r]=!1,a){var f=o[0].getContext("2d");f.fillRect(t*n,r*n,st,st)}K&&(tt[t][r]={item:i,dimension:s})}},St=function(t,r,a,s,i,f){var c=i.occupied,v=e.drawMask,d;v&&(d=o[0].getContext("2d"),d.save(),d.fillStyle=e.maskColor);var I;if(K){var u=i.bounds;I={x:(t+u[3])*n,y:(r+u[0])*n,w:(u[1]-u[3]+1)*n,h:(u[2]-u[0]+1)*n}}for(var w=c.length;w--;){var p=t+c[w][0],M=r+c[w][1];p>=k||M>=E||p<0||M<0||It(p,M,v,I,f)}v&&d.restore()},bt=function l(t){var r,a,s;Array.isArray(t)?(r=t[0],a=t[1]):(r=t.word,a=t.weight,s=t.attributes);var i=Tt(),f=_(t),c=xt(r,a,i,f);if(!c||at())return!1;if(!e.drawOutOfBound&&!e.shrinkToFit){var v=c.bounds;if(v[1]-v[3]+1>k||v[2]-v[0]+1>E)return!1}for(var d=Z+1,I=function(p){var M=Math.floor(p[0]-c.gw/2),W=Math.floor(p[1]-c.gh/2),h=c.gw,m=c.gh;return Ct(M,W,h,m,c.occupied)?(kt(M,W,c,r,a,Z-d,p[2],i,s,f),St(M,W,h,m,c,t),!0):!1};d--;){var u=Mt(Z-d);e.shuffle&&(u=[].concat(u),H(u));var w=u.some(I);if(w)return!0}return e.shrinkToFit?(Array.isArray(t)?t[1]=t[1]*3/4:t.weight=t.weight*3/4,l(t)):!1},$=function(t,r,a){if(r)return!o.some(function(s){var i=new CustomEvent(t,{detail:a||{}});return!s.dispatchEvent(i)},this);o.forEach(function(s){var i=new CustomEvent(t,{detail:a||{}});s.dispatchEvent(i)},this)},Ft=function(){var t=o[0];if(t.getContext)k=Math.ceil(t.width/n),E=Math.ceil(t.height/n);else{var r=t.getBoundingClientRect();k=Math.ceil(r.width/n),E=Math.ceil(r.height/n)}if(!!$("wordcloudstart",!0)){Y=e.origin?[e.origin[0]/n,e.origin[1]/n]:[k/2,E/2],Z=Math.floor(Math.sqrt(k*k+E*E)),A=[];var a,s,i;if(!t.getContext||e.clearCanvas)for(o.forEach(function(h){if(h.getContext){var m=h.getContext("2d");m.fillStyle=e.backgroundColor,m.clearRect(0,0,k*(n+1),E*(n+1)),m.fillRect(0,0,k*(n+1),E*(n+1))}else h.textContent="",h.style.backgroundColor=e.backgroundColor,h.style.position="relative"}),a=k;a--;)for(A[a]=[],s=E;s--;)A[a][s]=!0;else{var f=document.createElement("canvas").getContext("2d");f.fillStyle=e.backgroundColor,f.fillRect(0,0,1,1);var c=f.getImageData(0,0,1,1).data,v=t.getContext("2d").getImageData(0,0,k*n,E*n).data;a=k;for(var d,I;a--;)for(A[a]=[],s=E;s--;){I=n;t:for(;I--;)for(d=n;d--;)for(i=4;i--;)if(v[((s*n+I)*k*n+(a*n+d))*4+i]!==c[i]){A[a][s]=!1;break t}A[a][s]!==!1&&(A[a][s]=!0)}v=f=c=void 0}if(e.hover||e.click){for(K=!0,a=k+1;a--;)tt[a]=[];e.hover&&t.addEventListener("mousemove",ct),e.click&&(t.addEventListener("click",ut),t.style.webkitTapHighlightColor="rgba(0, 0, 0, 0)"),t.addEventListener("wordcloudstart",function h(){t.removeEventListener("wordcloudstart",h),t.removeEventListener("mousemove",ct),t.removeEventListener("click",ut),et=void 0})}i=0;var u,w;e.wait!==0?(u=window.setTimeout,w=window.clearTimeout):(u=window.setImmediate,w=window.clearImmediate);var p=function(m,T){o.forEach(function(S){S.addEventListener(m,T)},this)},M=function(m,T){o.forEach(function(S){S.removeEventListener(m,T)},this)},W=function h(){M("wordcloudstart",h),w(b[y])};p("wordcloudstart",W),b[y]=u(function h(){if(i>=e.list.length){w(b[y]),$("wordcloudstop",!1),M("wordcloudstart",W),delete b[y];return}lt=new Date().getTime();var m=bt(e.list[i]),T=!$("wordclouddrawn",!0,{item:e.list[i],drawn:m});if(at()||T){w(b[y]),e.abort(),$("wordcloudabort",!1),$("wordcloudstop",!1),M("wordcloudstart",W),delete b[y];return}i++,b[y]=u(h,e.wait)},e.wait)}};Ft()};x.isSupported=P,x.minFontSize=g,x.stop=function(){if(b)for(var o in b)window.clearImmediate(b[o])},B.exports?B.exports=x:z.WordCloud=x}(yt)})(gt);var Lt=gt.exports;const Bt={name:"WordCloud",props:{words:{type:Array,required:!0}},setup(B,z){const P=mt(null),g=(H,b,x)=>{z.emit("hot",H[0])},_=()=>{P.value&&Lt(P.value,{list:B.words,gridSize:16,weightFactor:5,color:"random-dark",click:g})};return Pt(_),_t(()=>B.words,_),{wordCloudContainer:P}}},Gt={ref:"wordCloudContainer",class:"word-cloud"};function Ht(B,z,P,g,_,H){return wt(),At("div",Gt,null,512)}var vt=Wt(Bt,[["render",Ht]]);const $t=Object.assign({name:"Favorite",components:{WordCloud:vt}},{__name:"Favorite",setup(B){const z=mt([["Hello",10],["World",8],["Vue",15],["JavaScript",20],["Composition",12],["API",18]]);return(P,g)=>(wt(),Rt(Et,{class:"flex flex-center"},{default:zt(()=>[Ot(vt,{words:z.value},null,8,["words"])]),_:1}))}});export{$t as default};
